{"version":3,"sources":["components/LoginForm.js","components/Header.js","components/Recording.js","services/recordings.js","components/Dashboard.js","components/Notification.js","services/auth.js","App.js","index.js"],"names":["LoginForm","loginUser","useState","show","setShow","submitLoginForm","event","a","preventDefault","target","elements","email","password","credentials","value","name","onSubmit","id","variant","type","placeholder","onClick","AvatarNameBox","React","forwardRef","props","ref","as","children","size","src","UserMenu","user","logout","logoutHandler","alignItems","justifyContent","rounded","cursor","minW","role","Header","loading","skeletonReturn","height","headerReturn","sx","position","bg","useColorModeValue","px","h","RecordingVideo","videoUrl","mediaType","controls","crossorigin","Recording","recording","mediaTypeSplit","split","textAlign","align","spacing","py","w","mediaURL","alt","direction","base","md","flex","Object","entries","emailBody","map","k","v","icon","FaCircle","FaThermometerHalf","FaCalendarAlt","FaClock","color","justify","tags","tag","colorScheme","boxSize","FaTag","_id","baseUrl","getInitialRecordings","axios","get","response","data","getRecordingsByPage","page","getRecordingsByDate","endpoint","requestedDate","recordingsServices","RecordingCard","dayIndex","index","useDisclosure","isOpen","onOpen","onClose","dateLocaleString","Date","mediaDate","toLocaleDateString","timeLocaleString","toLocaleTimeString","Center","maxW","boxShadow","p","overflow","mt","mx","mb","pos","mediaThumbnailURL","layout","DayRecordings","dayDate","dayRecordings","minChildWidth","Dashboard","errorHandler","recordings","isLastPage","isFirstPage","infiniteScroll","setInfiniteScroll","observerLast","useRef","observerFirst","fetchRecordings","useCallback","fetchParams","responseRecordings","count","prevInfiniteScroll","newInfiniteScroll","newRecordings","length","slice","concat","lastRecordingRef","lastRecording","current","disconnect","IntersectionObserver","isIntersecting","newFetchParams","toISOString","rootMargin","observe","firstRecordingRef","firstRecording","days","recordingsArray","dayId","i","date","push","processDays","isLoaded","Notification","message","login","post","auth","loginServices","AppSwitch","path","to","App","setUser","userLoading","setUserLoading","setMessage","error","status","console","log","useEffect","fetchAuthData","authServices","responseUser","loggedUser","logoutUser","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5978d383.chunk.js","sourcesContent":["import React, { useState } from 'react'\nimport { VStack, Input, InputGroup, InputRightElement, Button, FormLabel, FormControl } from '@chakra-ui/react'\n\nconst LoginForm = ({ loginUser }) => {\n  const [show, setShow] = useState(false)\n\n  const handleShowPassword = () => {\n    setShow(!show)\n  }\n\n  const submitLoginForm = async (event) => {\n    event.preventDefault()\n\n    //event.target.email.value would not work when testing\n    const { email, password } = event.target.elements\n    const credentials = {\n      email: email.value,\n      password: password.value\n    }\n\n    email.value = ''\n    password.value = ''\n\n    await loginUser(credentials)\n  }\n\n  return (\n    <VStack>\n      <form name=\"login-form\" onSubmit={submitLoginForm}>\n        <FormControl id=\"email\">\n          <FormLabel>Email</FormLabel>\n          <Input variant=\"outline\" name=\"email\" type=\"text\" placeholder=\"Email\" />\n        </FormControl>\n        <FormControl id=\"password\">\n          <FormLabel>Password</FormLabel>\n          <InputGroup>\n            <Input variant=\"outline\" name=\"password\" type={show ? 'text' : 'password'} placeholder=\"Password\" />\n            <InputRightElement>\n              <Button onClick={handleShowPassword}>\n                {show ? 'Hide' : 'Show'}\n              </Button>\n            </InputRightElement>\n          </InputGroup>\n        </FormControl>\n        <Button variant=\"solid\" name=\"login-button\" type=\"submit\">Login</Button>\n      </form>\n    </VStack>\n  )\n}\n\nexport default LoginForm","/* eslint-disable no-dupe-keys */\nimport React from 'react'\nimport { HStack, Skeleton, Box, Flex, Menu, MenuButton, Avatar, Heading,\n  MenuList, MenuItem, useColorModeValue, Text, Spacer,\n  MenuDivider } from '@chakra-ui/react'\n\nconst AvatarNameBox = React.forwardRef((props, ref) => {\n  return (\n    <HStack as=\"button\" name={props.name} onClick={props.onClick} ref={ref}>\n      <Avatar\n        name={props.children.props.children}\n        size={'sm'}\n        src={''}\n      />\n      <Text>{ props.children.props.children }</Text>\n    </HStack>\n  )\n})\n\nconst UserMenu = ({ user, logout }) => {\n\n  const logoutHandler = async () => {\n    await logout()\n  }\n\n  return (\n    <Flex alignItems={'center'} justifyContent={'space-between'}>\n      <Menu>\n        <MenuButton\n          name=\"user-avatar\"\n          as={AvatarNameBox}\n          rounded={'full'}\n          variant={'link'}\n          cursor={'pointer'}\n          minW={0}>\n          {user.name}\n        </MenuButton>\n        <MenuList name=\"user-menu\">\n          { user.role === 'admin' ? <MenuItem>Settings</MenuItem> : <></> }\n          <MenuItem>Profile</MenuItem>\n          <MenuDivider/>\n          <MenuItem name=\"user-logout\" onClick={logoutHandler}>Logout</MenuItem>\n        </MenuList>\n      </Menu>\n    </Flex>\n  )\n}\n\nconst Header = ({ loading, user, logout }) => {\n\n  const skeletonReturn = <Skeleton height=\"20px\" />\n  const headerReturn =\n    <Box sx={{ position: '-webkit-sticky', position: 'sticky', top: 0, 'z-index': 1 }} name=\"app-header\" bg={useColorModeValue('gray.100', 'gray.900')} px={4}>\n      <Flex h={16} alignItems={'center'} justifyContent={'space-between'}>\n        <Heading>TrailCam</Heading>\n        <Spacer/>\n        { user !== null ? <UserMenu user={user} logout={logout} /> : <></> }\n      </Flex>\n    </Box>\n\n  // Cannot wrap the header inside Skeleton because it causes the position: sticky to not work.\n  if (loading)\n    return skeletonReturn\n  else\n    return headerReturn\n}\n\nexport default Header","import React from 'react'\nimport { Flex, Center, List, Stack, WrapItem, ListItem, ListIcon,\n  Image, Wrap, Tag, TagLeftIcon, TagLabel, TagCloseButton } from '@chakra-ui/react'\nimport { FaTag, FaCircle, FaThermometerHalf, FaCalendarAlt, FaClock } from 'react-icons/fa'\n\nconst RecordingVideo = ({ videoUrl, mediaType }) => {\n  return (\n    <video controls>\n      <source src={videoUrl} type={mediaType} crossorigin />\n    </video>\n  )\n}\n\nconst Recording = ({ recording }) => {\n  const mediaTypeSplit = recording.mediaType.split('/')\n\n  return (\n    <Center>\n      <Stack\n        textAlign={'center'}\n        align={'center'}\n        spacing={10}\n        py={8}>\n        <Flex w={'full'}>\n          { mediaTypeSplit[0] === 'image'\n            ? <Image src={recording.mediaURL} alt=\"Trail camera picture\" crossorigin />\n            : <RecordingVideo videoUrl={recording.mediaURL} mediaType={recording.mediaType} />\n          }\n        </Flex>\n        <Stack direction={{ base: 'column', md: 'row' }}>\n          <Flex flex={1} textAlign={'left'}>\n            <List spacing={3}>\n              {\n                Object.entries(recording.emailBody).map(([k, v]) => {\n                  let icon = FaCircle\n                  if (k === 'temperature') {\n                    icon = FaThermometerHalf\n                  } else if (k === 'date') {\n                    icon = FaCalendarAlt\n                  } else if (k === 'time') {\n                    icon = FaClock\n                  }\n                  return (\n                    <ListItem key={k}>\n                      <ListIcon as={icon} color=\"green.500\" />\n                      <b>{k}:</b> {v}\n                    </ListItem>\n                  )\n                })\n              }\n            </List>\n          </Flex>\n          <Flex flex={1}>\n            <Wrap spacing=\"10px\" justify=\"left\" py={{ base: 4, md: 0 }}>\n              {\n                recording.tags.map((tag) => {\n                  return (\n                    <WrapItem key={tag._id}>\n                      <Tag variant=\"subtle\" colorScheme={tag.color}>\n                        <TagLeftIcon boxSize=\"12px\" as={FaTag} />\n                        <TagLabel>{tag.tag}</TagLabel>\n                        <TagCloseButton />\n                      </Tag>\n                    </WrapItem>\n                  )\n                })\n              }\n            </Wrap>\n          </Flex>\n        </Stack>\n      </Stack>\n    </Center>\n  )\n}\n\nexport default Recording","import axios from 'axios'\n\nconst baseUrl = '/api/recordings'\n\nconst getInitialRecordings = async () => {\n  const response = await axios.get(baseUrl)\n  return response.data\n}\n\nconst getRecordingsByPage = async (page) => {\n  const response = await axios.get(`${baseUrl}/${page}`)\n  return response.data\n}\n\nconst getRecordingsByDate = async (endpoint, requestedDate) => {\n  const response = await axios.get(`${baseUrl}/${endpoint}/${requestedDate}`)\n  return response.data\n}\n\nconst recordingsServices = { getRecordingsByPage, getInitialRecordings, getRecordingsByDate }\n\nexport default recordingsServices","import { Center, Skeleton, Box, useColorModeValue, SimpleGrid, Heading,\n  Image, List, ListItem, ListIcon, Tag, TagLabel, TagLeftIcon,\n  TagCloseButton, Wrap, WrapItem, useDisclosure, Modal, ModalOverlay,\n  ModalContent, ModalBody, ModalCloseButton } from '@chakra-ui/react'\nimport { FaClock, FaCalendarAlt, FaTag } from 'react-icons/fa'\nimport React, { useState, useRef, useCallback } from 'react'\n\nimport Recording from './Recording'\nimport recordingsServices from '../services/recordings'\n\nconst RecordingCard = ({ dayIndex, index, recording }) => {\n  const { isOpen, onOpen, onClose } = useDisclosure()\n  const dateLocaleString = new Date(recording.mediaDate).toLocaleDateString()\n  const timeLocaleString = new Date(recording.mediaDate).toLocaleTimeString()\n\n  return(\n    <>\n      <Box as={Center} name={`recording-${dayIndex}-${index}`}>\n        <Box maxW={'445px'} w={'full'} bg={useColorModeValue('white', 'gray.900')} boxShadow={'2xl'} rounded={'md'} p={4} overflow={'hidden'}>\n          <Box as=\"button\" bg={'gray.100'} mt={-6} mx={-6} mb={6} pos={'relative'} onClick={onOpen}>\n            <Image name={`thumbnail-${dayIndex}-${index}`} src={recording.mediaThumbnailURL} layout={'fill'} crossorigin />\n          </Box>\n          <List name={`info-${dayIndex}-${index}`} spacing={3}>\n            <ListItem>\n              <ListIcon as={FaCalendarAlt} color=\"green.500\" />\n              <b>Date</b> {dateLocaleString}\n            </ListItem>\n            <ListItem>\n              <ListIcon as={FaClock} color=\"green.500\" />\n              <b>Time:</b> {timeLocaleString}\n            </ListItem>\n          </List>\n          <Wrap spacing=\"10px\" justify=\"left\" py={4}>\n            {\n              recording.tags.map((tag) => {\n                return (\n                  <WrapItem key={tag._id}>\n                    <Tag variant=\"subtle\" colorScheme={tag.color}>\n                      <TagLeftIcon boxSize=\"12px\" as={FaTag} />\n                      <TagLabel>{tag.tag}</TagLabel>\n                      <TagCloseButton />\n                    </Tag>\n                  </WrapItem>\n                )\n              })\n            }\n          </Wrap>\n        </Box>\n      </Box>\n\n      <Modal isOpen={isOpen} size=\"full\" onClose={onClose}>\n        <ModalOverlay />\n        <ModalContent>\n          <ModalCloseButton />\n          <ModalBody>\n            <Recording recording={ recording } />\n          </ModalBody>\n        </ModalContent>\n      </Modal>\n    </>\n  )\n}\n\nconst DayRecordings = ({ dayIndex, dayDate, dayRecordings }) => {\n  return (\n    <Box name={`recordings-${dayIndex}`} p={4}>\n      <Heading>{ new Date(dayDate).toLocaleDateString()}</Heading>\n      <SimpleGrid minChildWidth=\"300px\" spacing=\"40px\" py={4}>\n        {\n          dayRecordings.map((recording, index) => {\n            return (\n              <RecordingCard dayIndex={dayIndex} index={index} recording={recording} key={recording._id} />\n            )\n          })\n        }\n      </SimpleGrid>\n    </Box>\n  )\n}\n\nconst Dashboard = ({ errorHandler }) => {\n  const MAX_RECORDINGS = 3\n\n  const [infiniteScroll, setInfiniteScroll] = useState({ recordings: [], loading: false, isLastPage: false, isFirstPage: true })\n\n  const observerLast = useRef()\n  const observerFirst = useRef()\n\n  const fetchRecordings = useCallback(async (fetchParams) => {\n    try {\n      const responseRecordings = await recordingsServices.getRecordingsByDate(fetchParams.endpoint, fetchParams.requestedDate)\n      if (fetchParams.endpoint === 'before') {\n        if (responseRecordings.count !== 0) {\n          setInfiniteScroll((prevInfiniteScroll) => {\n            const newInfiniteScroll = {\n              recordings: [],\n              loading: false,\n              isLastPage: false,\n              isFirstPage: prevInfiniteScroll.isFirstPage\n            }\n            const newRecordings = [...prevInfiniteScroll.recordings]\n            if (newRecordings.length >= MAX_RECORDINGS) {\n              newInfiniteScroll.isFirstPage = false\n              newInfiniteScroll.recordings = newRecordings.slice(1).concat(responseRecordings)\n              return newInfiniteScroll\n            }\n            newInfiniteScroll.recordings = newRecordings.concat(responseRecordings)\n            return newInfiniteScroll\n          })\n        } else {\n          setInfiniteScroll((prevInfiniteScroll) => {\n            const newInfiniteScroll = {\n              recordings: prevInfiniteScroll.recordings,\n              loading: false,\n              isLastPage: true,\n              isFirstPage: prevInfiniteScroll.isFirstPage\n            }\n            return newInfiniteScroll\n          })\n        }\n      } else {\n        if (responseRecordings.count !== 0) {\n          setInfiniteScroll((prevInfiniteScroll) => {\n            const newInfiniteScroll = {\n              recordings: [],\n              loading: false,\n              isLastPage: prevInfiniteScroll.isLastPage,\n              isFirstPage: false\n            }\n            const newRecordings = [...prevInfiniteScroll.recordings]\n            if (newRecordings.length >= MAX_RECORDINGS) {\n              newInfiniteScroll.isLastPage = false\n              newInfiniteScroll.recordings = [responseRecordings, ...newRecordings.slice(0, -1)]\n              return newInfiniteScroll\n            }\n            newInfiniteScroll.recordings = [responseRecordings, ...newRecordings]\n            return newInfiniteScroll\n          })\n        } else {\n          setInfiniteScroll((prevInfiniteScroll) => {\n            const newInfiniteScroll = {\n              recordings: prevInfiniteScroll.recordings,\n              loading: false,\n              isLastPage: prevInfiniteScroll.isLastPage,\n              isFirstPage: true\n            }\n            return newInfiniteScroll\n          })\n        }\n      }\n    } catch(error) {\n      if (fetchParams.endpoint === 'before') {\n        setInfiniteScroll((prevInfiniteScroll) => {\n          const newInfiniteScroll = {\n            recordings: prevInfiniteScroll.recordings,\n            loading: false,\n            isLastPage: true,\n            isFirstPage: prevInfiniteScroll.isFirstPage\n          }\n          return newInfiniteScroll\n        })\n      } else {\n        setInfiniteScroll((prevInfiniteScroll) => {\n          const newInfiniteScroll = {\n            recordings: prevInfiniteScroll.recordings,\n            loading: false,\n            isLastPage: prevInfiniteScroll.isLastPage,\n            isFirstPage: true\n          }\n          return newInfiniteScroll\n        })\n\n      }\n      errorHandler(error)\n    }\n  }, [errorHandler])\n\n  const lastRecordingRef = useCallback((lastRecording) => {\n    if (infiniteScroll.loading) {\n      return\n    }\n\n    if (observerLast.current) {\n      observerLast.current.disconnect()\n    }\n\n    observerLast.current = new IntersectionObserver(async entries => {\n      if (entries[0].isIntersecting && !infiniteScroll.isLastPage) {\n        const newFetchParams = { endpoint: 'before', requestedDate: new Date().toISOString() }\n        if (infiniteScroll.recordings.length > 0) {\n          newFetchParams.requestedDate= infiniteScroll.recordings[infiniteScroll.recordings.length - 1].recordings[infiniteScroll.recordings[infiniteScroll.recordings.length - 1].recordings.length - 1].mediaDate\n        }\n        await fetchRecordings(newFetchParams)\n      }\n    }, { rootMargin:  '0px 0px 900px 0px' })\n\n    if (lastRecording) {\n      observerLast.current.observe(lastRecording)\n    }\n  }, [infiniteScroll, fetchRecordings])\n\n  const firstRecordingRef = useCallback((firstRecording) => {\n    if (infiniteScroll.loading) {\n      return\n    }\n\n    if (observerFirst.current) {\n      observerFirst.current.disconnect()\n    }\n\n    observerFirst.current = new IntersectionObserver(async entries => {\n      if (entries[0].isIntersecting && !infiniteScroll.isFirstPage) {\n        const newFetchParams = { endpoint: 'after', requestedDate: new Date().toISOString() }\n        if (infiniteScroll.recordings.length > 0) {\n          newFetchParams.requestedDate = infiniteScroll.recordings[0].recordings[0].mediaDate\n        }\n        await fetchRecordings(newFetchParams)\n      }\n    }, { rootMargin:  '900px 0px 0px 0px' })\n\n    if (firstRecording) {\n      observerFirst.current.observe(firstRecording)\n    }\n  }, [infiniteScroll, fetchRecordings])\n\n  const processDays = () => {\n    let days = []\n    let recordingsArray = []\n    let dayId = 0\n\n    for (let i = 0; i < infiniteScroll.recordings.length; i++) {\n      recordingsArray = recordingsArray.concat(infiniteScroll.recordings[i].recordings)\n      if (dayId === 0) {\n        dayId = infiniteScroll.recordings[i]._id\n      }\n      if (i + 1 < infiniteScroll.recordings.length) {\n        if (infiniteScroll.recordings[i + 1].date !== infiniteScroll.recordings[i].date) {\n          days.push(<DayRecordings key={dayId}  dayIndex={i} dayDate={infiniteScroll.recordings[i].date} dayRecordings={recordingsArray} />)\n          dayId = 0\n          recordingsArray = []\n        }\n      } else {\n        days.push(<DayRecordings key={dayId}  dayIndex={i} dayDate={infiniteScroll.recordings[i].date} dayRecordings={recordingsArray} />)\n      }\n    }\n    return days\n  }\n\n  return (\n    <>\n      <div ref={firstRecordingRef} />\n      { processDays() }\n      <Skeleton isLoaded={!infiniteScroll.loading} height=\"20px\">\n        <div ref={lastRecordingRef}>{infiniteScroll.recordings.length === 0 && infiniteScroll.isLastPage === true && 'No results'}</div>\n      </Skeleton>\n    </>\n  )\n}\n\nexport default Dashboard","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null || message.length === 0) {\n    return null\n  }\n\n  return (\n    <div name=\"notification\">\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import axios from 'axios'\n\nconst baseUrl = '/api/auth'\n\nconst login = async (credentials) => {\n  const response = await axios.post(`${baseUrl}/login`, credentials)\n  return response.data\n}\n\nconst logout = async () => {\n  const response = await axios.post(`${baseUrl}/logout`)\n  return response.data\n}\n\nconst auth = async () => {\n  const response = await axios.get(baseUrl)\n  return response.data\n}\n\nconst loginServices = { login, logout, auth }\n\nexport default loginServices","import React, { useState, useEffect, useCallback } from 'react'\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom'\nimport { Skeleton } from '@chakra-ui/react'\n\nimport LoginForm from './components/LoginForm'\nimport Header from './components/Header'\nimport Dashboard from './components/Dashboard'\nimport Notification from './components/Notification'\nimport authServices from './services/auth'\n\nconst AppSwitch = ({ user, loginUser, errorHandler }) => (\n  <Switch>\n    <Route path=\"/login\">\n      { user === null\n        ? <LoginForm loginUser={loginUser} />\n        : <Redirect to=\"/dashboard\" />\n      }\n    </Route>\n    <Route path=\"/dashboard\">\n      { user === null\n        ? <Redirect to=\"/login\" />\n        : <Dashboard errorHandler={errorHandler} />\n      }\n    </Route>\n    <Route>\n      { user === null\n        ? <Redirect to=\"/login\" />\n        : <Redirect to=\"/dashboard\" />\n      }\n    </Route>\n  </Switch>\n)\n\nconst App = () => {\n  const [user, setUser] = useState(null)\n  const [userLoading, setUserLoading] = useState(true)\n  const [message, setMessage] = useState('')\n\n  const errorHandler = useCallback((error) => {\n    if(error.response) {\n      if (error.response.status === 401) {\n        console.log(error.response.data.error)\n        setUser(null)\n      } else {\n        if (error.response.data.error)\n          console.log(error.response.data.error)\n        else\n          console.log(error.response.data)\n      }\n    } else {\n      console.log(error)\n    }\n  }, [])\n\n  useEffect(() => {\n    const fetchAuthData = async () => {\n      try {\n        const responseUser = await authServices.auth()\n        setUser(responseUser)\n      } catch(error) {\n        errorHandler(error)\n      } finally {\n        setUserLoading(false)\n      }\n    }\n\n    fetchAuthData()\n  }, [errorHandler])\n\n  const loginUser = async (credentials) => {\n    setUserLoading(true)\n    try {\n      const loggedUser = await authServices.login(credentials)\n      setUser(loggedUser)\n      setMessage('')\n    } catch (error) {\n      if (error.response.data.error)\n        setMessage(error.response.data.error)\n      else\n        setMessage(error.response.data)\n    } finally {\n      setUserLoading(false)\n    }\n  }\n\n  const logoutUser = async () => {\n    try {\n      await authServices.logout()\n      setUser(null)\n      setMessage('Logout successful')\n    } catch (error) {\n      if (error.response.data.error)\n        setMessage(error.response.data.error)\n      else\n        setMessage(error.response.data)\n    }\n  }\n\n  return (\n    <Router>\n      <Header loading={userLoading} user={user} logout={logoutUser} />\n      <Notification message={message} />\n      { userLoading\n        ? <Skeleton height=\"50px\" />\n        : <AppSwitch user={user} loginUser={loginUser} errorHandler={errorHandler} />\n      }\n    </Router>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { ChakraProvider } from '@chakra-ui/react'\n\nimport App from './App'\n\nReactDOM.render(\n  <ChakraProvider>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </ChakraProvider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}